<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Final_Base_de_Datos</title>
</head>
<body>
    <h2>Final de Base de Datos </h2>
    <p>Sara Escamilla Enríquez</p>
    <p>12105 ITIT: 5to semestre</p>

    <button id="boton_libro">Libros</button>
    <button id="boton_categorias">Categorías</button>

    <!-- Contenedor para la lista de libros -->
    <div id="output"></div>

    <script>
        // Seleccionar el botón y el contenedor donde se mostrarán los datos
        const botonLibros = document.getElementById('boton_libro');
        const output = document.getElementById('output');

        // URL de la API
        const apiUrl = 'http://localhost:3000/libros';

        // Función para obtener los libros de la API y mostrarlos
        const mostrarLibros = () => {
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error al conectar con la API: ${response.status}`);
                    }
                    return response.json();
                })
                .then(data => {
                    // Limpiar el contenido previo
                    output.innerHTML = '';

                    // Crear una lista con los libros
                    const lista = document.createElement('ul');
                    data.forEach(libro => {
                        const listItem = document.createElement('li');
                        listItem.textContent = libro.titulo || `Libro sin título (ID: ${libro.id})`;
                        lista.appendChild(listItem);
                    });

                    // Insertar la lista en el contenedor
                    output.appendChild(lista);
                })
                .catch(error => {
                    console.error('Error al conectar con la API:', error);
                    output.textContent = 'Error al cargar los libros.';
                });
        };

        // Asociar el evento al botón
        botonLibros.addEventListener('click', mostrarLibros);
    </script>
</body>
</html>
